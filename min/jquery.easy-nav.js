/* Easy Nav */
(function(g,n,u){var y=".",s="a",i="li",r="ol,ul",k="click-activated",D="click-disabled",q="has-focus",p="easy-nav",G="easy-nav-closer",I="easy-nav-enabled",a="click",e=a,l="mousemove",d="focus",o="blur",j=true,x=false,z=x,v=x,H=g(u),w=[],b=x,F=x,E=x,t=x;if("ontouchstart" in n||"createTouch" in u){e="touchend"}(function(P){var R=/applewebkit/,O=/android\s(\d+)/,Q=/windows\sphone\sos\s([\d.]+)/,L=P.match(R),M=P.match(O),J=P.match(Q),K=(L&&L.length>0),A=(M&&M.length>0),N=(J&&J.length>0);if(K&&A){b=j;F=j}if(N&&parseInt(J[1],10)<8){t=j}}(navigator.userAgent.toLowerCase()));if(b){(function(){var J=g("body"),A="no-tap-highlight";g('<style media="screen">body.'+A+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }</style>").appendTo(g("head"));g(n).on("hashchange",function(){J[(g.inArray(n.location.hash.replace("#",""),w)>-1?"add":"remove")+"Class"](A)})}())}if(F){e="touchstart";function B(){E=j;setTimeout(f,1000)}function f(){E=x}function m(A){if(E&&!v){if(A.preventBubble){A.preventBubble()}if(A.preventDefault){A.preventDefault()}if(A.stopPropagation){A.stopPropagation()}if(A.stopImmediatePropagation){A.stopImmediatePropagation()}f();return x}}u.addEventListener(a,m,j)}function h(){if(!t){z=(e==a);H.off(l,h)}}function C(A){(A||g(this)).find(y+k).removeClass(k).end().find(y+q).removeClass(q)}function c(A){A.preventDefault();A.stopPropagation()}H.on(l,h).on("touchmove",function(){v=j}).on("touchend",function(){v=x}).on(e,function(L){var A=g(L.target),J=A.attr("href"),K=y+p;if(A.is(K)||(!A.closest(K).length&&(!J||(J&&g.inArray("#"+J,w)==-1)))){C(H)}});g.fn.easyNav=function(){var A=g(this);return A.each(function(){var N=g(this).addClass(p),Q=N.attr("id"),P=N.children(i),O;if(!Q){Q=N.closest("[id]").attr("id")}w.push(Q);if(P.length){O=P.children(s).add(P.children("mark").find(s)).filter(":not([href=#top])").filter(function(){var R=g(this);return R.next().is(r)||R.parent().next().is(r)}).addClass(D)}O.on(e,L);if(e=="touchstart"){O.off(e,L);O.on(e,M)}if(e!=a){O.on(a,c)}N.on(d,s,K).on(o,O,J)});function L(R){var S=g(R.target),N=S.closest(i),P=S.closest(r),V=P.children(i),T=N.is(y+k),U=N.css("display"),Q=(N.css("float")!="none"),O=(U=="block"||U=="list-item")&&!Q;if(z&&g.inArray(n.location.hash.replace("#",""),w)<0){P.find("a").off(e,L);return j}if(v){v=x;return x}V.not(N).removeClass(k);if(!T||(T&&P.is("[data-easy-nav-cancel-primary-click]"))){c(R);N[(T?"remove":"add")+"Class"](k);if(!T&&O){g(n).scrollTop(S.offset().top)}if(F){B()}}else{n.location.hash="";n.location=S.attr("href")}}function M(N){setTimeout(function(){if(!v){L(N)}},250)}function K(){var N=g(this).closest(A.children(i)).addClass(q);A.children(i).not(N).removeClass(q+" "+k)}function J(){g(this).removeClass(q)}};g("[data-easy-nav]").easyNav()}(jQuery,window,document));